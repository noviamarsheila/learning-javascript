<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Closures</title>
	</head>
	<body>
		<h3>Closures</h3>
		<p>Closure adalah kombinasi antara function dan lingkungan leksikal (lexical scope) didalam function tersebut</p>
		<p>Closure adalah sebuah function yang memiliki akses ke parent scopenya -- w3schools</p>
		<p>Closure adalah sebuah function yang dikembalikan oleh function yang lain dan memiliki akses ke lingkungan yg ia ciptakan (function yg me return function)</p>
		<p>Closure adalah sebuah function yg sebelumnya sudah memiliki data , hasil dari funstion yg lain</p>

		<script>
			// //Lexical Scope
			// function init() {
			// 	//let nama = "Sheila"; // local variable
			// 	return function (nama) {
			// 		// inner function(closure)
			// 		console.log(nama); // akses ke parent variable
			// 	};
			// }

			// let panggilNama = init();
			// panggilNama("Berlian");
			// panggilNama("Sheila");

			//
			// alasan menggunakan closures
			// untuk membuat function factories
			// untuk membuat privat method
			//

			// function ucapkanSalam(waktu) {
			// 	return function (nama) {
			// 		console.log(`Halo ${nama}, selamat ${waktu} , semoga harimu menyenangkan`);
			// 	};
			// }

			// let selamatPagi = ucapkanSalam("Pagi");
			// let selamatSiang = ucapkanSalam("Siang");
			// let selamatMalam = ucapkanSalam("Malam");

			// selamatMalam("Sheila");
			// selamatPagi("Berlian");

			// console.dir(selamatMalam);

			//
			//
			//
			let add = (function () {
				let counter = 0;
				return function () {
					return ++counter;
				};
			})();

			console.log(add());
			console.log(add());
		</script>
	</body>
</html>
